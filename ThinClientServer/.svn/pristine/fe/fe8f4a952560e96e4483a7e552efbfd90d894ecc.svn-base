create or replace 
PROCEDURE TCH_CONV_FEE_PROC 
(
  I_TERMINAL_SERIAL_NUMBER IN VARCHAR2
, I_BINVAL IN VARCHAR2  
, O_BINTYPE OUT VARCHAR2
, O_DEBUG_POINT OUT VARCHAR2
, O_APP_ERROR_CODE OUT VARCHAR2
, O_SQL_CODE OUT VARCHAR2
, C_FEE OUT SYS_REFCURSOR  
) AS 
V_MERCHANT_ID VARCHAR2(30):=NULL;
BEGIN
  O_DEBUG_POINT :='1';
  O_BINTYPE := TCH_IRCTC_BIN_VALIDATE(I_BINVAL);
  
  O_DEBUG_POINT :='1A';
--  SELECT H_CARD_ACQUIRING_ID INTO V_MERCHANT_ID FROM TCH_HANDSHAKES 
--    WHERE H_TERMINAL_SERIAL_NUMBER = I_TERMINAL_SERIAL_NUMBER;
    
    V_MERCHANT_ID := '1354';
  O_DEBUG_POINT :='1B';
    OPEN C_FEE FOR
      SELECT * FROM TCH_FEE_TABLE WHERE F_MID = V_MERCHANT_ID;
    
  O_DEBUG_POINT :='2';
  EXCEPTION
  WHEN NO_DATA_FOUND THEN
  IF O_DEBUG_POINT = '1' THEN
    O_APP_ERROR_CODE := 'GB-11';
  END IF;
END TCH_CONV_FEE_PROC;